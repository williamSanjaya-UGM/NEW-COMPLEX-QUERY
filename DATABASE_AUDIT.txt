SELECT *
FROM ALL_DEPENDENCIES
WHERE OWNER = 'WILLIAMS'

-- CAN FIND WHERE FN_DUPLICATE_TABLE_FUNC IS BEING USED, EVEN CAN SEARCH FOR TABLE
SELECT *
FROM ALL_SOURCE
WHERE OWNER='WILLIAMS' AND TEXT LIKE '%FN_DUPLICATE_TABLE_FUNC%';

-- TO FIND WHAT OBJECT IS BEING USED BY FUNCTION 'FN_DUPLICATE_TABLE_FUNC'
SELECT *
FROM USER_DEPENDENCIES
WHERE NAME='FN_DUPLICATE_TABLE_FUNC' AND REFERENCED_OWNER<>'SYS';

SELECT *
FROM SYS.DBA_DEPENDENCIES
WHERE OWNER='WILLIAMS'

--USELESS, ONLY GET THE LAST DDL TIME--
SELECT *
FROM ALL_OBJECTS
WHERE OWNER='WILLIAMS' AND OBJECT_NAME='FN_DUPLICATE_TABLE_FUNC';

-- FIND WHERE FN_DUPLICATE_TABLE_FUNC IS BEING USED, JUST CHANGE REFERENCED_NAME='YOUR_TABLE_NAME' TO SEARCH WHAT PROCEDURE OR FUNCTION REFER TO THE TABLE
SELECT * 
FROM ALL_DEPENDENCIES
WHERE REFERENCED_NAME='FN_DUPLICATE_TABLE_FUNC';

-- DBA_TABLES AND USER_TABLES, GIVE THE SAME RESULT--
SELECT * 
FROM DBA_TABLES 
WHERE OWNER ='WILLIAMS';

SELECT *
FROM USER_TABLES;

SELECT * 
FROM USER_TABLESPACES

----------------------------------------

SELECT * 
FROM DBA_OBJECTS 
WHERE OWNER ='WILLIAMS';


SELECT COUNT(*), S.NAME SOURCE_NAME, S.TYPE SOURCE_TYPE, D.TYPE DEPENDENCY_TYPE, S.TEXT,D.REFERENCED_NAME, D.REFERENCED_OWNER
FROM ALL_SOURCE S,ALL_DEPENDENCIES D
WHERE 
    S.TEXT LIKE '%FN_DUPLICATE_TABLE_FUNC%' 
    AND D.REFERENCED_OWNER NOT IN(
        'SYS',
        'XDB',
        'SYSTEM',
        'GSMADMIN_INTERNAL',
        'PUBLIC',
        'OJVMSYS',
        'CTXSYS',
        'LBACSYS',
        'AUDSYS',
        'APPQOSSYS',
        'OUTLN',
        'ORDSYS',
        'WMSYS',
        'ORDSYS',
        'ORDDATA',
        'MDSYS',
        'OLAPSYS',
        'DVSYS',
        'REMOTE_SCHEDULER_AGENT',
        'DSFWUSER',
        'DBSNMP',
        'ORDPLUGINS',
        'DSFWUSER',
        'DBSFWUSER',
        'ORACLE_OCM',
        'DVF'
    )
    AND (D.TYPE<> 'VIEW' AND D.TYPE<> 'TRIGGER')
GROUP BY S.NAME, S.TYPE, D.TYPE, S.TEXT,D.REFERENCED_NAME, D.REFERENCED_OWNER;

-- MAINTAIN INDEXES:
-- ACCESSING TABLE THROUGH ROWID IS THE MOST EFFICIENT WAY TO ACCESS THE DATA
--KET: NORMAL INDEX_TYPE = B-TREE INDEX
--NORMAL/REV = REVERSE KEY INDEX
-- TO SEE GENERAL INDEXES INFORMATION (INDEX_NAME,INDEX_TYPE,SCHEMA,TABLE_NAME,TABLE_TYPE,UNIQUENESS,COMPRESSION,DLL.)
SELECT * FROM USER_INDEXES WHERE TABLE_NAME='EMP_HR';

-- TO SEE ON WHICH COLUMN IT'S INDEXING
SELECT * FROM USER_IND_COLUMNS WHERE TABLE_NAME='EMP_HR';

-- TO SHOW THE STATISTICS OF THE INDEX, HOW MANY DISTINCT VALUES ARE AVAILABLE ON THIS INDEX ETC.
SELECT * FROM USER_IND_STATISTICS WHERE TABLE_NAME='EMP_HR';

-- TO SHOW THE FUNCTION BASED INDEX
SELECT * FROM USER_IND_EXPRESSIONS WHERE TABLE_NAME='EMP_HR';

--FIND WHETHER INDEX IS USED BY THE QUERY
SELECT * FROM V$SQL
WHERE SQL_TEXT LIKE '%FROM EMP_HR WHERE ID=2%';

--TAKE THE SQL_ID FROM THE ABOVE QUERY
SELECT SQL_ID,OPERATION,OPTIONS,OBJECT_NAME,OBJECT_TYPE,COST,CARDINALITY FROM V$SQL_PLAN
WHERE SQL_ID='343wcq99wv40s';